"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "@apollo/client":
/*!*********************************!*\
  !*** external "@apollo/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@apollo/client");

/***/ }),

/***/ "@apollo/client/link/context":
/*!**********************************************!*\
  !*** external "@apollo/client/link/context" ***!
  \**********************************************/
/***/ ((module) => {

module.exports = require("@apollo/client/link/context");

/***/ }),

/***/ "deepmerge":
/*!****************************!*\
  !*** external "deepmerge" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("deepmerge");

/***/ }),

/***/ "lodash/isEqual":
/*!*********************************!*\
  !*** external "lodash/isEqual" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("lodash/isEqual");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "react":
/*!************************!*\
  !*** external "react" ***!
  \************************/
/***/ ((module) => {

module.exports = require("react");

/***/ }),

/***/ "./src/graphql/mutations/user.ts":
/*!***************************************!*\
  !*** ./src/graphql/mutations/user.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"CREATE_USER\": () => (/* binding */ CREATE_USER),\n/* harmony export */   \"LOGIN\": () => (/* binding */ LOGIN)\n/* harmony export */ });\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @apollo/client */ \"@apollo/client\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_0__);\n\nconst CREATE_USER = _apollo_client__WEBPACK_IMPORTED_MODULE_0__.gql`\n  mutation CreateUser($user: UserInput) {\n    createUser(user: $user) {\n      id\n      name\n      email\n    }\n  }\n`;\nconst LOGIN = _apollo_client__WEBPACK_IMPORTED_MODULE_0__.gql`\n  mutation Login($email: String!, $password: String!) {\n    login(email: $email, password: $password) {\n      name\n      token\n      email\n      id\n    }\n  }\n`;\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZ3JhcGhxbC9tdXRhdGlvbnMvdXNlci50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7O0FBQW9DO0FBRTdCLEtBQUssQ0FBQ0MsV0FBVyxHQUFHRCwrQ0FBRyxDQUFDOzs7Ozs7OztBQVEvQjtBQUVPLEtBQUssQ0FBQ0UsS0FBSyxHQUFHRiwrQ0FBRyxDQUFDOzs7Ozs7Ozs7QUFTekIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1uZXh0LWJvaWxlcnBsYWNlLy4vc3JjL2dyYXBocWwvbXV0YXRpb25zL3VzZXIudHM/OTc0OCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBncWwgfSBmcm9tIFwiQGFwb2xsby9jbGllbnRcIjtcblxuZXhwb3J0IGNvbnN0IENSRUFURV9VU0VSID0gZ3FsYFxuICBtdXRhdGlvbiBDcmVhdGVVc2VyKCR1c2VyOiBVc2VySW5wdXQpIHtcbiAgICBjcmVhdGVVc2VyKHVzZXI6ICR1c2VyKSB7XG4gICAgICBpZFxuICAgICAgbmFtZVxuICAgICAgZW1haWxcbiAgICB9XG4gIH1cbmA7XG5cbmV4cG9ydCBjb25zdCBMT0dJTiA9IGdxbGBcbiAgbXV0YXRpb24gTG9naW4oJGVtYWlsOiBTdHJpbmchLCAkcGFzc3dvcmQ6IFN0cmluZyEpIHtcbiAgICBsb2dpbihlbWFpbDogJGVtYWlsLCBwYXNzd29yZDogJHBhc3N3b3JkKSB7XG4gICAgICBuYW1lXG4gICAgICB0b2tlblxuICAgICAgZW1haWxcbiAgICAgIGlkXG4gICAgfVxuICB9XG5gO1xuIl0sIm5hbWVzIjpbImdxbCIsIkNSRUFURV9VU0VSIiwiTE9HSU4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/graphql/mutations/user.ts\n");

/***/ }),

/***/ "./src/pages/api/auth/[...nextauth].ts":
/*!*********************************************!*\
  !*** ./src/pages/api/auth/[...nextauth].ts ***!
  \*********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var utils_apollo__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! utils/apollo */ \"./src/utils/apollo.ts?734c\");\n/* harmony import */ var graphql_mutations_user__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! graphql/mutations/user */ \"./src/graphql/mutations/user.ts\");\n\n\n\n\nconst apolloClient = (0,utils_apollo__WEBPACK_IMPORTED_MODULE_2__.createApolloClient)();\nconst options = {\n    pages: {\n        signIn: \"/login\",\n        signOut: \"/login\"\n    },\n    providers: [\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"Sign-in\",\n            credentials: {},\n            // eslint-disable-next-line @typescript-eslint/ban-ts-comment\n            // @ts-ignore\n            async authorize ({ email , password  }) {\n                const { data  } = await apolloClient.query({\n                    query: graphql_mutations_user__WEBPACK_IMPORTED_MODULE_3__.LOGIN,\n                    fetchPolicy: \"no-cache\",\n                    variables: {\n                        email,\n                        password\n                    }\n                });\n                const user = data.login;\n                if (user) {\n                    return {\n                        ...user,\n                        jwt: user.token\n                    };\n                } else {\n                    return null;\n                }\n            }\n        }), \n    ],\n    callbacks: {\n        session: async ({ session , token  })=>{\n            session.accessToken = token.accessToken;\n            if (token.user) session.user = token.user;\n            return session;\n        },\n        jwt: async ({ token , user  })=>{\n            if (user) {\n                token.user = user;\n                token.accessToken = user.jwt;\n            }\n            return token;\n        }\n    },\n    secret: process.env.NEXT_AUTH_SECRET,\n    jwt: {\n        strategy: \"jwt\"\n    }\n};\nconst Auth = (req, res)=>next_auth__WEBPACK_IMPORTED_MODULE_0___default()(req, res, options)\n;\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (Auth);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvcGFnZXMvYXBpL2F1dGgvWy4uLm5leHRhdXRoXS50cy5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7O0FBQXFEO0FBRVk7QUFFaEI7QUFFSDtBQU85QyxLQUFLLENBQUNJLFlBQVksR0FBR0YsZ0VBQWtCO0FBRXZDLEtBQUssQ0FBQ0csT0FBTyxHQUFHLENBQUM7SUFDZkMsS0FBSyxFQUFFLENBQUM7UUFDTkMsTUFBTSxFQUFFLENBQVE7UUFDaEJDLE9BQU8sRUFBRSxDQUFRO0lBQ25CLENBQUM7SUFDREMsU0FBUyxFQUFFLENBQUM7UUFDVlIsc0VBQW1CLENBQUMsQ0FBQztZQUNuQlMsSUFBSSxFQUFFLENBQVM7WUFDZkMsV0FBVyxFQUFFLENBQUMsQ0FBQztZQUNmLEVBQTZEO1lBQzdELEVBQWE7a0JBQ1BDLFNBQVMsRUFBQyxDQUFDLENBQUNDLEtBQUssR0FBRUMsUUFBUSxFQUFpQixDQUFDLEVBQUUsQ0FBQztnQkFDcEQsS0FBSyxDQUFDLENBQUMsQ0FBQ0MsSUFBSSxFQUFDLENBQUMsR0FBRyxLQUFLLENBQUNYLFlBQVksQ0FBQ1ksS0FBSyxDQUFDLENBQUM7b0JBQ3pDQSxLQUFLLEVBQUViLHlEQUFLO29CQUNaYyxXQUFXLEVBQUUsQ0FBVTtvQkFDdkJDLFNBQVMsRUFBRSxDQUFDO3dCQUNWTCxLQUFLO3dCQUNMQyxRQUFRO29CQUNWLENBQUM7Z0JBQ0gsQ0FBQztnQkFFRCxLQUFLLENBQUNLLElBQUksR0FBR0osSUFBSSxDQUFDSyxLQUFLO2dCQUV2QixFQUFFLEVBQUVELElBQUksRUFBRSxDQUFDO29CQUNULE1BQU0sQ0FBQyxDQUFDOzJCQUNIQSxJQUFJO3dCQUNQRSxHQUFHLEVBQUVGLElBQUksQ0FBQ0csS0FBSztvQkFDakIsQ0FBQztnQkFDSCxDQUFDLE1BQU0sQ0FBQztvQkFDTixNQUFNLENBQUMsSUFBSTtnQkFDYixDQUFDO1lBQ0gsQ0FBQztRQUNILENBQUM7SUFDSCxDQUFDO0lBQ0RDLFNBQVMsRUFBRSxDQUFDO1FBQ1ZDLE9BQU8sU0FBUyxDQUFDLENBQUNBLE9BQU8sR0FBRUYsS0FBSyxFQUFDLENBQUMsR0FBSyxDQUFDO1lBQ3RDRSxPQUFPLENBQUNDLFdBQVcsR0FBR0gsS0FBSyxDQUFDRyxXQUFXO1lBRXZDLEVBQUUsRUFBRUgsS0FBSyxDQUFDSCxJQUFJLEVBQUVLLE9BQU8sQ0FBQ0wsSUFBSSxHQUFHRyxLQUFLLENBQUNILElBQUk7WUFFekMsTUFBTSxDQUFDSyxPQUFPO1FBQ2hCLENBQUM7UUFFREgsR0FBRyxTQUFTLENBQUMsQ0FBQ0MsS0FBSyxHQUFFSCxJQUFJLEVBQUMsQ0FBQyxHQUFLLENBQUM7WUFDL0IsRUFBRSxFQUFFQSxJQUFJLEVBQUUsQ0FBQztnQkFDVEcsS0FBSyxDQUFDSCxJQUFJLEdBQUdBLElBQUk7Z0JBQ2pCRyxLQUFLLENBQUNHLFdBQVcsR0FBR04sSUFBSSxDQUFDRSxHQUFHO1lBQzlCLENBQUM7WUFFRCxNQUFNLENBQUNDLEtBQUs7UUFDZCxDQUFDO0lBQ0gsQ0FBQztJQUNESSxNQUFNLEVBQUVDLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDQyxnQkFBZ0I7SUFDcENSLEdBQUcsRUFBRSxDQUFDO1FBQ0pTLFFBQVEsRUFBRSxDQUFLO0lBQ2pCLENBQUM7QUFDSCxDQUFDO0FBRUQsS0FBSyxDQUFDQyxJQUFJLElBQUlDLEdBQW1CLEVBQUVDLEdBQW9CLEdBQ3JEakMsZ0RBQVEsQ0FBQ2dDLEdBQUcsRUFBRUMsR0FBRyxFQUFFNUIsT0FBTzs7QUFFNUIsaUVBQWUwQixJQUFJLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9yZWFjdC1uZXh0LWJvaWxlcnBsYWNlLy4vc3JjL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0udHM/NTBhMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmV4dEF1dGgsIHsgTmV4dEF1dGhPcHRpb25zIH0gZnJvbSBcIm5leHQtYXV0aFwiO1xuaW1wb3J0IHsgTmV4dEFwaVJlcXVlc3QsIE5leHRBcGlSZXNwb25zZSB9IGZyb20gXCJuZXh0XCI7XG5pbXBvcnQgQ3JlZGVudGlhbHNQcm92aWRlciBmcm9tIFwibmV4dC1hdXRoL3Byb3ZpZGVycy9jcmVkZW50aWFsc1wiO1xuXG5pbXBvcnQgeyBjcmVhdGVBcG9sbG9DbGllbnQgfSBmcm9tIFwidXRpbHMvYXBvbGxvXCI7XG5pbXBvcnQgeyBVc2VyUHJvcHMgfSBmcm9tIFwidHlwZXMvYXBpXCI7XG5pbXBvcnQgeyBMT0dJTiB9IGZyb20gXCJncmFwaHFsL211dGF0aW9ucy91c2VyXCI7XG5cbnR5cGUgQXV0aG9yaXplUHJvcHMgPSB7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHBhc3N3b3JkOiBzdHJpbmc7XG59O1xuXG5jb25zdCBhcG9sbG9DbGllbnQgPSBjcmVhdGVBcG9sbG9DbGllbnQoKTtcblxuY29uc3Qgb3B0aW9ucyA9IHtcbiAgcGFnZXM6IHtcbiAgICBzaWduSW46IFwiL2xvZ2luXCIsXG4gICAgc2lnbk91dDogXCIvbG9naW5cIixcbiAgfSxcbiAgcHJvdmlkZXJzOiBbXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBuYW1lOiBcIlNpZ24taW5cIixcbiAgICAgIGNyZWRlbnRpYWxzOiB7fSxcbiAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXRzLWNvbW1lbnRcbiAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgIGFzeW5jIGF1dGhvcml6ZSh7IGVtYWlsLCBwYXNzd29yZCB9OiBBdXRob3JpemVQcm9wcykge1xuICAgICAgICBjb25zdCB7IGRhdGEgfSA9IGF3YWl0IGFwb2xsb0NsaWVudC5xdWVyeSh7XG4gICAgICAgICAgcXVlcnk6IExPR0lOLFxuICAgICAgICAgIGZldGNoUG9saWN5OiBcIm5vLWNhY2hlXCIsXG4gICAgICAgICAgdmFyaWFibGVzOiB7XG4gICAgICAgICAgICBlbWFpbCxcbiAgICAgICAgICAgIHBhc3N3b3JkLFxuICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuXG4gICAgICAgIGNvbnN0IHVzZXIgPSBkYXRhLmxvZ2luO1xuXG4gICAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnVzZXIsXG4gICAgICAgICAgICBqd3Q6IHVzZXIudG9rZW4sXG4gICAgICAgICAgfTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICB9KSxcbiAgXSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgc2Vzc2lvbjogYXN5bmMgKHsgc2Vzc2lvbiwgdG9rZW4gfSkgPT4ge1xuICAgICAgc2Vzc2lvbi5hY2Nlc3NUb2tlbiA9IHRva2VuLmFjY2Vzc1Rva2VuO1xuXG4gICAgICBpZiAodG9rZW4udXNlcikgc2Vzc2lvbi51c2VyID0gdG9rZW4udXNlciBhcyBVc2VyUHJvcHM7XG5cbiAgICAgIHJldHVybiBzZXNzaW9uO1xuICAgIH0sXG5cbiAgICBqd3Q6IGFzeW5jICh7IHRva2VuLCB1c2VyIH0pID0+IHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIHRva2VuLnVzZXIgPSB1c2VyO1xuICAgICAgICB0b2tlbi5hY2Nlc3NUb2tlbiA9IHVzZXIuand0O1xuICAgICAgfVxuXG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcbiAgfSxcbiAgc2VjcmV0OiBwcm9jZXNzLmVudi5ORVhUX0FVVEhfU0VDUkVULFxuICBqd3Q6IHtcbiAgICBzdHJhdGVneTogXCJqd3RcIixcbiAgfSxcbn0gYXMgTmV4dEF1dGhPcHRpb25zO1xuXG5jb25zdCBBdXRoID0gKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSA9PlxuICBOZXh0QXV0aChyZXEsIHJlcywgb3B0aW9ucyk7XG5cbmV4cG9ydCBkZWZhdWx0IEF1dGg7XG4iXSwibmFtZXMiOlsiTmV4dEF1dGgiLCJDcmVkZW50aWFsc1Byb3ZpZGVyIiwiY3JlYXRlQXBvbGxvQ2xpZW50IiwiTE9HSU4iLCJhcG9sbG9DbGllbnQiLCJvcHRpb25zIiwicGFnZXMiLCJzaWduSW4iLCJzaWduT3V0IiwicHJvdmlkZXJzIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiYXV0aG9yaXplIiwiZW1haWwiLCJwYXNzd29yZCIsImRhdGEiLCJxdWVyeSIsImZldGNoUG9saWN5IiwidmFyaWFibGVzIiwidXNlciIsImxvZ2luIiwiand0IiwidG9rZW4iLCJjYWxsYmFja3MiLCJzZXNzaW9uIiwiYWNjZXNzVG9rZW4iLCJzZWNyZXQiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9BVVRIX1NFQ1JFVCIsInN0cmF0ZWd5IiwiQXV0aCIsInJlcSIsInJlcyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/pages/api/auth/[...nextauth].ts\n");

/***/ }),

/***/ "./src/utils/apollo.ts?734c":
/*!*****************************!*\
  !*** ./src/utils/apollo.ts ***!
  \*****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"createApolloClient\": () => (/* binding */ createApolloClient),\n/* harmony export */   \"initializeApollo\": () => (/* binding */ initializeApollo),\n/* harmony export */   \"addApolloState\": () => (/* binding */ addApolloState),\n/* harmony export */   \"useApollo\": () => (/* binding */ useApollo)\n/* harmony export */ });\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react */ \"react\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @apollo/client */ \"@apollo/client\");\n/* harmony import */ var _apollo_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_apollo_client__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _apollo_client_link_context__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @apollo/client/link/context */ \"@apollo/client/link/context\");\n/* harmony import */ var _apollo_client_link_context__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(_apollo_client_link_context__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! deepmerge */ \"deepmerge\");\n/* harmony import */ var deepmerge__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(deepmerge__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! lodash/isEqual */ \"lodash/isEqual\");\n/* harmony import */ var lodash_isEqual__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(lodash_isEqual__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\nlet apolloClient;\nconst createApolloClient = (session)=>{\n    const httpLink = new _apollo_client__WEBPACK_IMPORTED_MODULE_1__.HttpLink({\n        uri: \"http://localhost:9000/graphql\"\n    });\n    const authLink = (0,_apollo_client_link_context__WEBPACK_IMPORTED_MODULE_2__.setContext)((_, { headers , session: clientSession  })=>{\n        const jwt = session?.accessToken || clientSession?.accessToken || \"\";\n        const authorization = jwt ? jwt : \"\";\n        return {\n            headers: {\n                ...headers,\n                authorization\n            }\n        };\n    });\n    return new _apollo_client__WEBPACK_IMPORTED_MODULE_1__.ApolloClient({\n        ssrMode: \"undefined\" === \"undefined\",\n        link: (0,_apollo_client__WEBPACK_IMPORTED_MODULE_1__.from)([\n            authLink,\n            httpLink\n        ]),\n        cache: new _apollo_client__WEBPACK_IMPORTED_MODULE_1__.InMemoryCache({})\n    });\n};\nfunction initializeApollo(initialState = null, session) {\n    const apolloClientGlobal = apolloClient ?? createApolloClient(session);\n    // If your page has Next.js data fetching methods that use Apollo Client, the initial state\n    // gets hydrated here\n    const existingCache = apolloClientGlobal.extract();\n    if (initialState && existingCache) {\n        const data = deepmerge__WEBPACK_IMPORTED_MODULE_3___default()(initialState, existingCache, {\n            // combine arrays using object equality (like in sets)\n            arrayMerge: (destinationArray, sourceArray)=>[\n                    ...sourceArray,\n                    ...destinationArray.filter((d)=>sourceArray.every((s)=>!lodash_isEqual__WEBPACK_IMPORTED_MODULE_4___default()(d, s)\n                        )\n                    ), \n                ]\n        });\n        apolloClientGlobal.cache.restore(data);\n    }\n    // For SSG and SSR always create a new Apollo Client\n    if (true) return apolloClientGlobal;\n    // Create the Apollo Client once in the client\n    apolloClient = apolloClient ?? apolloClientGlobal;\n    return apolloClient;\n}\nfunction addApolloState(client, // eslint-disable-next-line @typescript-eslint/no-explicit-any\npageProps) {\n    if (pageProps?.props) {\n        pageProps.props[\"__APOLLO_STATE__\"] = client.cache.extract();\n    }\n    return pageProps;\n}\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nfunction useApollo(pageProps, session) {\n    const state = pageProps[\"__APOLLO_STATE__\"];\n    const store = (0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)(()=>initializeApollo(state, session)\n    , [\n        state,\n        session\n    ]);\n    return store;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvdXRpbHMvYXBvbGxvLnRzPzczNGMuanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBK0I7QUFPUjtBQUNpQztBQUUzQjtBQUNPO0FBRXBDLEdBQUcsQ0FBQ1EsWUFBWTtBQUVULEtBQUssQ0FBQ0Msa0JBQWtCLElBQUlDLE9BQXdCLEdBQUssQ0FBQztJQUMvRCxLQUFLLENBQUNDLFFBQVEsR0FBRyxHQUFHLENBQUNULG9EQUFRLENBQUMsQ0FBQztRQUM3QlUsR0FBRyxFQUFFQywrQkFBb0M7SUFDM0MsQ0FBQztJQUVELEtBQUssQ0FBQ0csUUFBUSxHQUFHWCx1RUFBVSxFQUFFWSxDQUFDLEVBQUUsQ0FBQyxDQUFDQyxPQUFPLEdBQUVSLE9BQU8sRUFBRVMsYUFBYSxFQUFDLENBQUMsR0FBSyxDQUFDO1FBQ3ZFLEtBQUssQ0FBQ0MsR0FBRyxHQUFHVixPQUFPLEVBQUVXLFdBQVcsSUFBSUYsYUFBYSxFQUFFRSxXQUFXLElBQUksQ0FBRTtRQUNwRSxLQUFLLENBQUNDLGFBQWEsR0FBR0YsR0FBRyxHQUFHQSxHQUFHLEdBQUcsQ0FBRTtRQUNwQyxNQUFNLENBQUMsQ0FBQztZQUFDRixPQUFPLEVBQUUsQ0FBQzttQkFBSUEsT0FBTztnQkFBRUksYUFBYTtZQUFDLENBQUM7UUFBQyxDQUFDO0lBQ25ELENBQUM7SUFFRCxNQUFNLENBQUMsR0FBRyxDQUFDckIsd0RBQVksQ0FBQyxDQUFDO1FBQ3ZCc0IsT0FBTyxFQUFFLENBQWEsZUFBSyxDQUFXO1FBQ3RDQyxJQUFJLEVBQUVwQixvREFBSSxDQUFDLENBQUNZO1lBQUFBLFFBQVE7WUFBRUwsUUFBUTtRQUFBLENBQUM7UUFDL0JjLEtBQUssRUFBRSxHQUFHLENBQUN0Qix5REFBYSxDQUFDLENBQUMsQ0FBQztJQUM3QixDQUFDO0FBQ0gsQ0FBQztBQUVNLFNBQVN1QixnQkFBZ0IsQ0FDOUJDLFlBQTBDLEdBQUcsSUFBSSxFQUNqRGpCLE9BQXdCLEVBQ3hCLENBQUM7SUFDRCxLQUFLLENBQUNrQixrQkFBa0IsR0FBR3BCLFlBQVksSUFBSUMsa0JBQWtCLENBQUNDLE9BQU87SUFFckUsRUFBMkY7SUFDM0YsRUFBcUI7SUFDckIsS0FBSyxDQUFDbUIsYUFBYSxHQUFHRCxrQkFBa0IsQ0FBQ0UsT0FBTztJQUNoRCxFQUFFLEVBQUVILFlBQVksSUFBSUUsYUFBYSxFQUFFLENBQUM7UUFDbEMsS0FBSyxDQUFDRSxJQUFJLEdBQUd6QixnREFBSyxDQUFDcUIsWUFBWSxFQUFFRSxhQUFhLEVBQUUsQ0FBQztZQUMvQyxFQUFzRDtZQUN0REcsVUFBVSxHQUFHQyxnQkFBZ0IsRUFBRUMsV0FBVyxHQUFLLENBQUM7dUJBQzNDQSxXQUFXO3VCQUNYRCxnQkFBZ0IsQ0FBQ0UsTUFBTSxFQUFFQyxDQUFDLEdBQzNCRixXQUFXLENBQUNHLEtBQUssRUFBRUMsQ0FBQyxJQUFNL0IscURBQU8sQ0FBQzZCLENBQUMsRUFBRUUsQ0FBQzs7O2dCQUUxQyxDQUFDO1FBQ0gsQ0FBQztRQUVEVixrQkFBa0IsQ0FBQ0gsS0FBSyxDQUFDYyxPQUFPLENBQUNSLElBQUk7SUFDdkMsQ0FBQztJQUVELEVBQW9EO0lBQ3BELEVBQUUsRUFBRSxJQUE2QixFQUFFLE1BQU0sQ0FBQ0gsa0JBQWtCO0lBQzVELEVBQThDO0lBQzlDcEIsWUFBWSxHQUFHQSxZQUFZLElBQUlvQixrQkFBa0I7SUFFakQsTUFBTSxDQUFDcEIsWUFBWTtBQUNyQixDQUFDO0FBRU0sU0FBU2dDLGNBQWMsQ0FDNUJDLE1BQWtELEVBQ2xELEVBQThEO0FBQzlEQyxTQUFjLEVBQ2QsQ0FBQztJQUNELEVBQUUsRUFBRUEsU0FBUyxFQUFFQyxLQUFLLEVBQUUsQ0FBQztRQUNyQkQsU0FBUyxDQUFDQyxLQUFLLENBQUMsQ0FBa0IscUJBQUlGLE1BQU0sQ0FBQ2hCLEtBQUssQ0FBQ0ssT0FBTztJQUM1RCxDQUFDO0lBRUQsTUFBTSxDQUFDWSxTQUFTO0FBQ2xCLENBQUM7QUFFRCxFQUE4RDtBQUN2RCxTQUFTRSxTQUFTLENBQUNGLFNBQWMsRUFBRWhDLE9BQXVCLEVBQUUsQ0FBQztJQUNsRSxLQUFLLENBQUNtQyxLQUFLLEdBQUdILFNBQVMsQ0FBQyxDQUFrQjtJQUMxQyxLQUFLLENBQUNJLEtBQUssR0FBRzlDLDhDQUFPLEtBQ2IwQixnQkFBZ0IsQ0FBQ21CLEtBQUssRUFBRW5DLE9BQU87TUFDckMsQ0FBQ21DO1FBQUFBLEtBQUs7UUFBRW5DLE9BQU87SUFBQSxDQUFDO0lBRWxCLE1BQU0sQ0FBQ29DLEtBQUs7QUFDZCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcmVhY3QtbmV4dC1ib2lsZXJwbGFjZS8uL3NyYy91dGlscy9hcG9sbG8udHM/ZTgyYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyB1c2VNZW1vIH0gZnJvbSBcInJlYWN0XCI7XG5pbXBvcnQge1xuICBBcG9sbG9DbGllbnQsXG4gIEh0dHBMaW5rLFxuICBOb3JtYWxpemVkQ2FjaGVPYmplY3QsXG4gIEluTWVtb3J5Q2FjaGUsXG4gIGZyb20sXG59IGZyb20gXCJAYXBvbGxvL2NsaWVudFwiO1xuaW1wb3J0IHsgc2V0Q29udGV4dCB9IGZyb20gXCJAYXBvbGxvL2NsaWVudC9saW5rL2NvbnRleHRcIjtcbmltcG9ydCB7IFNlc3Npb24gfSBmcm9tIFwibmV4dC1hdXRoXCI7XG5pbXBvcnQgbWVyZ2UgZnJvbSBcImRlZXBtZXJnZVwiO1xuaW1wb3J0IGlzRXF1YWwgZnJvbSBcImxvZGFzaC9pc0VxdWFsXCI7XG5cbmxldCBhcG9sbG9DbGllbnQ6IEFwb2xsb0NsaWVudDxOb3JtYWxpemVkQ2FjaGVPYmplY3QgfCBudWxsPjtcblxuZXhwb3J0IGNvbnN0IGNyZWF0ZUFwb2xsb0NsaWVudCA9IChzZXNzaW9uPzogU2Vzc2lvbiB8IG51bGwpID0+IHtcbiAgY29uc3QgaHR0cExpbmsgPSBuZXcgSHR0cExpbmsoe1xuICAgIHVyaTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfR1JBUEhRTF9IT1NULFxuICB9KTtcblxuICBjb25zdCBhdXRoTGluayA9IHNldENvbnRleHQoKF8sIHsgaGVhZGVycywgc2Vzc2lvbjogY2xpZW50U2Vzc2lvbiB9KSA9PiB7XG4gICAgY29uc3Qgand0ID0gc2Vzc2lvbj8uYWNjZXNzVG9rZW4gfHwgY2xpZW50U2Vzc2lvbj8uYWNjZXNzVG9rZW4gfHwgXCJcIjtcbiAgICBjb25zdCBhdXRob3JpemF0aW9uID0gand0ID8gand0IDogXCJcIjtcbiAgICByZXR1cm4geyBoZWFkZXJzOiB7IC4uLmhlYWRlcnMsIGF1dGhvcml6YXRpb24gfSB9O1xuICB9KTtcblxuICByZXR1cm4gbmV3IEFwb2xsb0NsaWVudCh7XG4gICAgc3NyTW9kZTogdHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIixcbiAgICBsaW5rOiBmcm9tKFthdXRoTGluaywgaHR0cExpbmtdKSxcbiAgICBjYWNoZTogbmV3IEluTWVtb3J5Q2FjaGUoe30pLFxuICB9KTtcbn07XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0aWFsaXplQXBvbGxvKFxuICBpbml0aWFsU3RhdGU6IE5vcm1hbGl6ZWRDYWNoZU9iamVjdCB8IG51bGwgPSBudWxsLFxuICBzZXNzaW9uPzogU2Vzc2lvbiB8IG51bGxcbikge1xuICBjb25zdCBhcG9sbG9DbGllbnRHbG9iYWwgPSBhcG9sbG9DbGllbnQgPz8gY3JlYXRlQXBvbGxvQ2xpZW50KHNlc3Npb24pO1xuXG4gIC8vIElmIHlvdXIgcGFnZSBoYXMgTmV4dC5qcyBkYXRhIGZldGNoaW5nIG1ldGhvZHMgdGhhdCB1c2UgQXBvbGxvIENsaWVudCwgdGhlIGluaXRpYWwgc3RhdGVcbiAgLy8gZ2V0cyBoeWRyYXRlZCBoZXJlXG4gIGNvbnN0IGV4aXN0aW5nQ2FjaGUgPSBhcG9sbG9DbGllbnRHbG9iYWwuZXh0cmFjdCgpO1xuICBpZiAoaW5pdGlhbFN0YXRlICYmIGV4aXN0aW5nQ2FjaGUpIHtcbiAgICBjb25zdCBkYXRhID0gbWVyZ2UoaW5pdGlhbFN0YXRlLCBleGlzdGluZ0NhY2hlLCB7XG4gICAgICAvLyBjb21iaW5lIGFycmF5cyB1c2luZyBvYmplY3QgZXF1YWxpdHkgKGxpa2UgaW4gc2V0cylcbiAgICAgIGFycmF5TWVyZ2U6IChkZXN0aW5hdGlvbkFycmF5LCBzb3VyY2VBcnJheSkgPT4gW1xuICAgICAgICAuLi5zb3VyY2VBcnJheSxcbiAgICAgICAgLi4uZGVzdGluYXRpb25BcnJheS5maWx0ZXIoKGQpID0+XG4gICAgICAgICAgc291cmNlQXJyYXkuZXZlcnkoKHMpID0+ICFpc0VxdWFsKGQsIHMpKVxuICAgICAgICApLFxuICAgICAgXSxcbiAgICB9KTtcblxuICAgIGFwb2xsb0NsaWVudEdsb2JhbC5jYWNoZS5yZXN0b3JlKGRhdGEpO1xuICB9XG5cbiAgLy8gRm9yIFNTRyBhbmQgU1NSIGFsd2F5cyBjcmVhdGUgYSBuZXcgQXBvbGxvIENsaWVudFxuICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJ1bmRlZmluZWRcIikgcmV0dXJuIGFwb2xsb0NsaWVudEdsb2JhbDtcbiAgLy8gQ3JlYXRlIHRoZSBBcG9sbG8gQ2xpZW50IG9uY2UgaW4gdGhlIGNsaWVudFxuICBhcG9sbG9DbGllbnQgPSBhcG9sbG9DbGllbnQgPz8gYXBvbGxvQ2xpZW50R2xvYmFsO1xuXG4gIHJldHVybiBhcG9sbG9DbGllbnQ7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRBcG9sbG9TdGF0ZShcbiAgY2xpZW50OiBBcG9sbG9DbGllbnQ8Tm9ybWFsaXplZENhY2hlT2JqZWN0IHwgbnVsbD4sXG4gIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gIHBhZ2VQcm9wczogYW55XG4pIHtcbiAgaWYgKHBhZ2VQcm9wcz8ucHJvcHMpIHtcbiAgICBwYWdlUHJvcHMucHJvcHNbXCJfX0FQT0xMT19TVEFURV9fXCJdID0gY2xpZW50LmNhY2hlLmV4dHJhY3QoKTtcbiAgfVxuXG4gIHJldHVybiBwYWdlUHJvcHM7XG59XG5cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG5leHBvcnQgZnVuY3Rpb24gdXNlQXBvbGxvKHBhZ2VQcm9wczogYW55LCBzZXNzaW9uOiBTZXNzaW9uIHwgbnVsbCkge1xuICBjb25zdCBzdGF0ZSA9IHBhZ2VQcm9wc1tcIl9fQVBPTExPX1NUQVRFX19cIl07XG4gIGNvbnN0IHN0b3JlID0gdXNlTWVtbyhcbiAgICAoKSA9PiBpbml0aWFsaXplQXBvbGxvKHN0YXRlLCBzZXNzaW9uKSxcbiAgICBbc3RhdGUsIHNlc3Npb25dXG4gICk7XG4gIHJldHVybiBzdG9yZTtcbn1cbiJdLCJuYW1lcyI6WyJ1c2VNZW1vIiwiQXBvbGxvQ2xpZW50IiwiSHR0cExpbmsiLCJJbk1lbW9yeUNhY2hlIiwiZnJvbSIsInNldENvbnRleHQiLCJtZXJnZSIsImlzRXF1YWwiLCJhcG9sbG9DbGllbnQiLCJjcmVhdGVBcG9sbG9DbGllbnQiLCJzZXNzaW9uIiwiaHR0cExpbmsiLCJ1cmkiLCJwcm9jZXNzIiwiZW52IiwiTkVYVF9QVUJMSUNfR1JBUEhRTF9IT1NUIiwiYXV0aExpbmsiLCJfIiwiaGVhZGVycyIsImNsaWVudFNlc3Npb24iLCJqd3QiLCJhY2Nlc3NUb2tlbiIsImF1dGhvcml6YXRpb24iLCJzc3JNb2RlIiwibGluayIsImNhY2hlIiwiaW5pdGlhbGl6ZUFwb2xsbyIsImluaXRpYWxTdGF0ZSIsImFwb2xsb0NsaWVudEdsb2JhbCIsImV4aXN0aW5nQ2FjaGUiLCJleHRyYWN0IiwiZGF0YSIsImFycmF5TWVyZ2UiLCJkZXN0aW5hdGlvbkFycmF5Iiwic291cmNlQXJyYXkiLCJmaWx0ZXIiLCJkIiwiZXZlcnkiLCJzIiwicmVzdG9yZSIsImFkZEFwb2xsb1N0YXRlIiwiY2xpZW50IiwicGFnZVByb3BzIiwicHJvcHMiLCJ1c2VBcG9sbG8iLCJzdGF0ZSIsInN0b3JlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/utils/apollo.ts?734c\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = (__webpack_exec__("./src/pages/api/auth/[...nextauth].ts"));
module.exports = __webpack_exports__;

})();